<!DOCTYPE html>
<html>
<head>
    <title>Origin Debug - React App</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <h1>Origin Debug for React App</h1>
    <p><strong>Current URL:</strong> <span id="current-url"></span></p>
    <p><strong>Current Origin:</strong> <span id="current-origin"></span></p>
    <p><strong>Document Referrer:</strong> <span id="referrer"></span></p>
    <p><strong>Window Location:</strong> <span id="window-location"></span></p>
    
    <div id="g_id_onload"
         data-client_id="251388215361-bcj25a23injipopfgpl9ouijq4e0kqak.apps.googleusercontent.com"
         data-callback="handleCredentialResponse">
    </div>
    
    <div class="g_id_signin"
         data-type="standard"
         data-size="large"
         data-theme="outline"
         data-text="sign_in_with"
         data-shape="rectangular"
         data-logo_alignment="left">
    </div>

    <script>
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('current-origin').textContent = window.location.origin;
        document.getElementById('referrer').textContent = document.referrer || 'No referrer';
        document.getElementById('window-location').textContent = JSON.stringify({
            href: window.location.href,
            origin: window.location.origin,
            protocol: window.location.protocol,
            host: window.location.host,
            hostname: window.location.hostname,
            port: window.location.port,
            pathname: window.location.pathname
        });
        
        function handleCredentialResponse(response) {
            console.log("SUCCESS! Token: " + response.credential);
            console.log("Origin that worked:", window.location.origin);
            document.getElementById('status').innerText = 'SUCCESS! Check console for token.';
            document.getElementById('status').style.color = 'green';
        }

        window.onload = function () {
            console.log("Debug page loaded from:", window.location.origin);
            console.log("Full location object:", window.location);
        };
    </script>
    
    <p id="status">Loading...</p>
</body>
</html>
